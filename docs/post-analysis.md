# Readfish analysis

ðŸ‘€

Woah what have we here? An _under development_ package to analyse readfish data? [Readfish Summarise](https://github.com/Adoni5/ReadfishSummarise)

We have an inbuilt entry point in readfish to generate a summary of the data that you have collected, using this package.

> Please note that this is still under development, and the output is subject to change.
> Currently the only possible analysis is using the run FASTQ data, to recreate the decisions readfish would have made. Work is on going to add more analysis options.

## Example output

```text
+-----------+------------+----------------+---------------------+------------+-------------------+-------------------+----------+---------+-----------+------------+----------+-----------+----------------+-----------+
| Condition | Reads      | Alignments                                        | Yield                                                      | Median read                       | Number of | Percent target | Estimated |
|           |            |                                                   |                                                            | lengths                           | targets   |                | coverage  |
+-----------+------------+----------------+---------------------+------------+-------------------+-------------------+----------+---------+-----------+------------+----------+-----------+----------------+-----------+
|           |            | On-Target      | Off-Target          | Total      | On-Target         | Off-Target        | Total    | Ratio   | On-target | Off-target | Combined |           |                |           |
+-----------+------------+----------------+---------------------+------------+-------------------+-------------------+----------+---------+-----------+------------+----------+-----------+----------------+-----------+
| Rapid_CNS | 13,076,681 | 67,326 (0.51%) | 13,009,355 (99.49%) | 13,076,681 | 263.25 Mb (2.47%) | 10.40 Gb (97.53%) | 10.66 Gb | 1:39.49 | 2.51 Kb   | 661 b      | 662 b    | 393       | 0.50%          | 17.12 X   |
+-----------+------------+----------------+---------------------+------------+-------------------+-------------------+----------+---------+-----------+------------+----------+-----------+----------------+-----------+
|           |            | On-Target      | Off-Target          | Total      | On-Target         | Off-Target        | Total    | Ratio   | On-target | Off-target | Combined |           |                |           |
+-----------+------------+----------------+---------------------+------------+-------------------+-------------------+----------+---------+-----------+------------+----------+-----------+----------------+-----------+
| Condition | Reads      | Alignments                                        | Yield                                                      | Median read                       | Number of | Percent target | Estimated |
|           |            |                                                   |                                                            | lengths                           | targets   |                | coverage  |
+-----------+------------+----------------+---------------------+------------+-------------------+-------------------+----------+---------+-----------+------------+----------+-----------+----------------+-----------+
Contigs:
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Condition Name | Rapid_CNS                                                                                                                                                                                                                                                                                      |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Condition      | Contig   | Contig Length | Reads                            | Alignments                                     | Yield                                                           | Median read                       | N50                              | Number of | Percent target | Estimated |
|                |          |               |                                  |                                                |                                                                 | lengths                           |                                  | targets   |                | coverage  |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
|                |          |               | Mapped    | Unmapped | Total     | On-Target     | Off-Target         | Total     | On-Target         | Off-Target          | Total     | Ratio     | On-target | Off-target | Combined | On-Target | Off-Target | Total   |           |                |           |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr1     | 248,956,422   | 977,403   | 0        | 977,403   | 5,291 (0.54%) | 972,112 (99.46%)   | 977,403   | 19.93 Mb (2.56%)  | 758.88 Mb (97.44%)  | 778.82 Mb | 1:38.07   | 2.43 Kb   | 659 b      | 660 b    | 6.50 Kb   | 744 b      | 751 b   | 33        | 0.46%          | 17.57 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr2     | 242,193,529   | 1,056,217 | 0        | 1,056,217 | 4,354 (0.41%) | 1,051,863 (99.59%) | 1,056,217 | 16.87 Mb (2.02%)  | 817.61 Mb (97.98%)  | 834.48 Mb | 1:48.48   | 2.53 Kb   | 660 b      | 660 b    | 6.74 Kb   | 742 b      | 747 b   | 29        | 0.40%          | 17.54 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr3     | 198,295,559   | 863,726   | 0        | 863,726   | 5,087 (0.59%) | 858,639 (99.41%)   | 863,726   | 20.13 Mb (2.93%)  | 667.48 Mb (97.07%)  | 687.61 Mb | 1:33.16   | 2.61 Kb   | 661 b      | 661 b    | 6.66 Kb   | 742 b      | 750 b   | 21        | 0.58%          | 17.57 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr4     | 190,214,555   | 852,474   | 0        | 852,474   | 2,651 (0.31%) | 849,823 (99.69%)   | 852,474   | 10.66 Mb (1.56%)  | 672.84 Mb (98.44%)  | 683.50 Mb | 1:63.12   | 2.42 Kb   | 664 b      | 665 b    | 7.22 Kb   | 751 b      | 755 b   | 18        | 0.31%          | 17.80 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr5     | 181,538,259   | 792,740   | 0        | 792,740   | 3,350 (0.42%) | 789,390 (99.58%)   | 792,740   | 12.95 Mb (2.05%)  | 619.69 Mb (97.95%)  | 632.64 Mb | 1:47.84   | 2.52 Kb   | 663 b      | 663 b    | 6.80 Kb   | 747 b      | 753 b   | 14        | 0.41%          | 17.55 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr6     | 170,805,979   | 739,822   | 0        | 739,822   | 3,126 (0.42%) | 736,696 (99.58%)   | 739,822   | 11.39 Mb (1.96%)  | 571.08 Mb (98.04%)  | 582.48 Mb | 1:50.13   | 2.31 Kb   | 659 b      | 660 b    | 6.53 Kb   | 741 b      | 746 b   | 22        | 0.39%          | 16.89 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr7     | 159,345,973   | 692,961   | 0        | 692,961   | 4,564 (0.66%) | 688,397 (99.34%)   | 692,961   | 18.04 Mb (3.19%)  | 548.20 Mb (96.81%)  | 566.24 Mb | 1:30.38   | 2.60 Kb   | 661 b      | 662 b    | 6.90 Kb   | 751 b      | 760 b   | 25        | 0.66%          | 17.24 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr8     | 145,138,636   | 637,009   | 0        | 637,009   | 2,800 (0.44%) | 634,209 (99.56%)   | 637,009   | 10.93 Mb (2.17%)  | 492.61 Mb (97.83%)  | 503.54 Mb | 1:45.08   | 2.52 Kb   | 660 b      | 661 b    | 6.79 Kb   | 742 b      | 748 b   | 14        | 0.41%          | 18.28 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr9     | 138,394,717   | 536,764   | 0        | 536,764   | 5,212 (0.97%) | 531,552 (99.03%)   | 536,764   | 20.56 Mb (4.74%)  | 412.89 Mb (95.26%)  | 433.45 Mb | 1:20.08   | 2.62 Kb   | 660 b      | 661 b    | 6.65 Kb   | 742 b      | 756 b   | 23        | 0.85%          | 17.47 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr10    | 133,797,422   | 612,641   | 0        | 612,641   | 3,873 (0.63%) | 608,768 (99.37%)   | 612,641   | 14.24 Mb (2.92%)  | 473.40 Mb (97.08%)  | 487.65 Mb | 1:33.24   | 2.40 Kb   | 659 b      | 660 b    | 6.45 Kb   | 742 b      | 750 b   | 26        | 0.62%          | 17.03 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr11    | 135,086,622   | 586,960   | 0        | 586,960   | 3,116 (0.53%) | 583,844 (99.47%)   | 586,960   | 12.10 Mb (2.57%)  | 458.05 Mb (97.43%)  | 470.15 Mb | 1:37.86   | 2.65 Kb   | 661 b      | 662 b    | 6.58 Kb   | 746 b      | 754 b   | 18        | 0.53%          | 16.90 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr12    | 133,275,309   | 588,243   | 0        | 588,243   | 5,146 (0.87%) | 583,097 (99.13%)   | 588,243   | 20.26 Mb (4.18%)  | 464.27 Mb (95.82%)  | 484.53 Mb | 1:22.91   | 2.65 Kb   | 661 b      | 663 b    | 6.65 Kb   | 752 b      | 764 b   | 28        | 0.87%          | 17.55 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr13    | 114,364,328   | 417,251   | 0        | 417,251   | 1,577 (0.38%) | 415,674 (99.62%)   | 417,251   | 6.15 Mb (1.83%)   | 329.47 Mb (98.17%)  | 335.63 Mb | 1:53.55   | 2.76 Kb   | 663 b      | 664 b    | 6.43 Kb   | 752 b      | 757 b   | 8         | 0.33%          | 16.06 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr14    | 107,043,718   | 343,038   | 0        | 343,038   | 765 (0.22%)   | 342,273 (99.78%)   | 343,038   | 3.09 Mb (1.13%)   | 270.33 Mb (98.87%)  | 273.42 Mb | 1:87.46   | 2.50 Kb   | 662 b      | 662 b    | 7.18 Kb   | 749 b      | 753 b   | 5         | 0.16%          | 18.00 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr15    | 101,991,189   | 376,886   | 0        | 376,886   | 916 (0.24%)   | 375,970 (99.76%)   | 376,886   | 4.61 Mb (1.55%)   | 292.12 Mb (98.45%)  | 296.73 Mb | 1:63.41   | 2.41 Kb   | 658 b      | 658 b    | 9.06 Kb   | 741 b      | 745 b   | 7         | 0.19%          | 24.41 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr16    | 90,338,345    | 429,383   | 0        | 429,383   | 2,629 (0.61%) | 426,754 (99.39%)   | 429,383   | 10.10 Mb (2.90%)  | 337.88 Mb (97.10%)  | 347.98 Mb | 1:33.45   | 2.36 Kb   | 659 b      | 660 b    | 6.99 Kb   | 749 b      | 758 b   | 15        | 0.64%          | 17.45 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr17    | 83,257,441    | 398,075   | 0        | 398,075   | 4,252 (1.07%) | 393,823 (98.93%)   | 398,075   | 16.20 Mb (4.82%)  | 320.13 Mb (95.18%)  | 336.33 Mb | 1:19.77   | 2.42 Kb   | 661 b      | 663 b    | 6.74 Kb   | 760 b      | 777 b   | 23        | 1.14%          | 17.08 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr18    | 80,373,285    | 346,968   | 0        | 346,968   | 1,394 (0.40%) | 345,574 (99.60%)   | 346,968   | 5.48 Mb (1.89%)   | 284.40 Mb (98.11%)  | 289.88 Mb | 1:51.89   | 2.52 Kb   | 665 b      | 666 b    | 6.47 Kb   | 767 b      | 773 b   | 11        | 0.42%          | 16.35 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr19    | 58,617,616    | 253,090   | 0        | 253,090   | 1,887 (0.75%) | 251,203 (99.25%)   | 253,090   | 8.11 Mb (3.82%)   | 204.12 Mb (96.18%)  | 212.24 Mb | 1:25.16   | 2.75 Kb   | 661 b      | 662 b    | 7.45 Kb   | 762 b      | 775 b   | 10        | 0.74%          | 18.62 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr20    | 64,444,167    | 306,802   | 0        | 306,802   | 787 (0.26%)   | 306,015 (99.74%)   | 306,802   | 2.97 Mb (1.24%)   | 236.88 Mb (98.76%)  | 239.84 Mb | 1:79.86   | 2.48 Kb   | 658 b      | 659 b    | 6.55 Kb   | 742 b      | 745 b   | 6         | 0.28%          | 16.67 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr21    | 46,709,983    | 264,513   | 0        | 264,513   | 544 (0.21%)   | 263,969 (99.79%)   | 264,513   | 2.31 Mb (1.03%)   | 221.51 Mb (98.97%)  | 223.82 Mb | 1:95.69   | 1.43 Kb   | 665 b      | 665 b    | 9.16 Kb   | 778 b      | 781 b   | 3         | 0.13%          | 38.24 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chr22    | 50,818,468    | 204,047   | 0        | 204,047   | 2,130 (1.04%) | 201,917 (98.96%)   | 204,047   | 7.92 Mb (4.41%)   | 171.45 Mb (95.59%)  | 179.37 Mb | 1:21.65   | 2.23 Kb   | 665 b      | 666 b    | 6.76 Kb   | 782 b      | 800 b   | 13        | 0.91%          | 17.15 X   |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chrM     | 16,569        | 102,661   | 0        | 102,661   | 5 (0.00%)     | 102,656 (100.00%)  | 102,661   | 24.04 Kb (0.04%)  | 67.39 Mb (99.96%)   | 67.41 Mb  | 1:2803.62 | 3.53 Kb   | 615 b      | 615 b    | 7.90 Kb   | 680 b      | 680 b   | 0         | 0.00%          | 0.00 X    |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chrX     | 156,040,895   | 329,343   | 0        | 329,343   | 1,842 (0.56%) | 327,501 (99.44%)   | 329,343   | 7.99 Mb (2.99%)   | 259.32 Mb (97.01%)  | 267.31 Mb | 1:32.47   | 2.59 Kb   | 663 b      | 664 b    | 7.30 Kb   | 751 b      | 760 b   | 21        | 0.55%          | 9.32 X    |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | chrY     | 57,227,415    | 129,639   | 0        | 129,639   | 28 (0.02%)    | 129,611 (99.98%)   | 129,639   | 235.06 Kb (0.23%) | 102.98 Mb (99.77%)  | 103.22 Mb | 1:438.11  | 4.47 Kb   | 668 b      | 668 b    | 12.21 Kb  | 762 b      | 762 b   | 0         | 0.00%          | 0.00 X    |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
| Rapid_CNS      | unmapped | 0             | 0         | 238,025  | 238,025   | 0 (0.00%)     | 238,025 (100.00%)  | 238,025   | 0 b (0.00%)       | 342.05 Mb (100.00%) | 342.05 Mb | 0:0.00    | 0 b       | 766 b      | 766 b    | 0 b       | 2.73 Kb    | 2.73 Kb | 0         | 0.00%          | 0.00 X    |
+----------------+----------+---------------+-----------+----------+-----------+---------------+--------------------+-----------+-------------------+---------------------+-----------+-----------+-----------+------------+----------+-----------+------------+---------+-----------+----------------+-----------+
```

## What is the purpose of this analysis module?

1. To provide a summary of the data that you have collected. By looking at the median read lengths, number of mapped reads, N50 per contig on each target, we can see how effectively readfish worked on the data.
1. FASTQ data can be demultiplexed into `condition.name`_`decision.name`.fastq for further analysis with other tools.
1. ROUGH estimate of on target coverage.
1. Finally it is possible to recreate the decisions readfish made, and see how many reads would have been kept if you had used the same parameters.

``readfish stats``
*********************

.. automodule:: readfish.entry_points.stats



.. _a link:
