<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="readfish plugins API" href="readfish.plugins.html" /><link rel="prev" title="Developer’s guide" href="developers-guide.html" />

    <!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>API Reference - readfish 2024.1.0</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font-stack: Roboto, -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;
  --font-stack--monospace: 'Ubuntu Mono', monospace;
  --code-font-size: 90%;
  --color-api-background: #f8f9fb;
  --color-highlight-on-target: transparent;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-api-background: #1a1c1e;
  --color-highlight-on-target: transparent;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-api-background: #1a1c1e;
  --color-highlight-on-target: transparent;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">readfish 2024.1.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/readfish_light.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/readfish_dark.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">readfish 2024.1.0</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="toml.html">TOML files</a></li>
<li class="toctree-l1"><a class="reference internal" href="readfish.console.html">readfish console scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="guppy-params.html">Base-calling server parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="post-analysis.html">Readfish analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers-guide.html">Developer’s guide</a></li>
<li class="toctree-l1 current has-children"><a class="current reference internal" href="#">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of API Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="readfish.plugins.html">readfish plugins API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/readfish.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading">¶</a></h1>
<div class="toctree-wrapper compound">
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="readfish.plugins.html">readfish plugins API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="readfish.plugins.html#module-readfish.plugins.abc"><code class="docutils literal notranslate"><span class="pre">readfish.plugins.abc</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="readfish.plugins.html#module-readfish.plugins.utils"><code class="docutils literal notranslate"><span class="pre">readfish.plugins.utils</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="readfish.plugins.html#module-readfish.plugins.guppy"><code class="docutils literal notranslate"><span class="pre">readfish.plugins.guppy</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="readfish.plugins.html#module-readfish.plugins.mappy"><code class="docutils literal notranslate"><span class="pre">readfish.plugins.mappy</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="readfish.plugins.html#module-readfish.plugins._no_op"><code class="docutils literal notranslate"><span class="pre">readfish.plugins._no_op</span></code> module</a></li>
</ul>
</li>
</ul>
</div>
<section id="module-readfish._config">
<span id="readfish-config-module"></span><h2><code class="docutils literal notranslate"><span class="pre">readfish._config</span></code> module<a class="headerlink" href="#module-readfish._config" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="readfish._config.Conf">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._config.</span></span><span class="sig-name descname"><span class="pre">Conf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caller_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapper_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barcodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NOTHING</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Conf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Conf" title="Link to this definition">¶</a></dt>
<dd><p>Overall configuration for readfish experiments</p>
<p>The Conf class is the mother if the adaptive sampling experiment.
It is constructed from the provided <code class="docutils literal notranslate"><span class="pre">TOML</span></code> file, via a call to <cite>from_file</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The number of channels on the flow cell</p></li>
<li><p><strong>caller_settings</strong> (<a class="reference internal" href="#readfish._config.CallerSettings" title="readfish._config.CallerSettings"><em>CallerSettings</em></a>) – The caller settings as listed in the TOML</p></li>
<li><p><strong>mapper_settings</strong> (<a class="reference internal" href="#readfish._config.MapperSettings" title="readfish._config.MapperSettings"><em>MapperSettings</em></a>) – The mapper settings as listed in the TOML</p></li>
<li><p><strong>regions</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><em>List</em></a><em>[</em><a class="reference internal" href="#readfish._config.Region" title="readfish._config.Region"><em>Region</em></a><em>]</em>) – The regions as listed in the Toml file.</p></li>
<li><p><strong>barcodes</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><a class="reference internal" href="#readfish._config.Barcode" title="readfish._config.Barcode"><em>Barcode</em></a><em>]</em>) – A Dictionary of barcode names to Barcode Classes</p></li>
<li><p><strong>_channel_map</strong> – A map of channels number (1 to flowcell size) to the index of the Region (in self.regions) they are part of.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="readfish._config.Conf.describe_experiment">
<span class="sig-name descname"><span class="pre">describe_experiment</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Conf.describe_experiment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Conf.describe_experiment" title="Link to this definition">¶</a></dt>
<dd><p>Describe the experiment from the given Conf class.
For Barcodes we describe the targets and the conditions, but not the region.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The description string, human readable.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config.Conf.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Conf.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Conf.from_dict" title="Link to this definition">¶</a></dt>
<dd><p>Create the Conf class from a Dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict</strong> – The dictionary that contains the parsed TOML file</p></li>
<li><p><strong>channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The number of channels on the flow cell</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – If channel is present in the TOML file raise ValueError as it will overwrite something</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The constructed Conf class</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#readfish._config.Conf" title="readfish._config.Conf"><em>Conf</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config.Conf.from_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Conf.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Conf.from_file" title="Link to this definition">¶</a></dt>
<dd><p>Create a Conf from a TOML file.</p>
<p>Loads the toml using rtoml then calls <cite>from_dict</cite> to create the class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><em>Path</em></a>) – Path to the toml file</p></li>
<li><p><strong>channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Number of channels on the flow cell</p></li>
<li><p><strong>logger</strong> (<a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.12)"><em>Logger</em></a><em> | </em><em>None</em>) – Logger to write out a base64 encoded compressed toml, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The Conf as constructed from this toml</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#readfish._config.Conf" title="readfish._config.Conf"><em>Conf</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config.Conf.get_barcode">
<span class="sig-name descname"><span class="pre">get_barcode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">barcode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Conf.get_barcode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Conf.get_barcode" title="Link to this definition">¶</a></dt>
<dd><p>Get a barcode for a given barcode name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>barcode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> | </em><em>None</em>) – The name of the barcode, example “barcode01”</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The barcode class instance for the given barcode name, if there is one</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#readfish._config.Barcode" title="readfish._config.Barcode"><em>Barcode</em></a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config.Conf.get_conditions">
<span class="sig-name descname"><span class="pre">get_conditions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barcode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Conf.get_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Conf.get_conditions" title="Link to this definition">¶</a></dt>
<dd><p>Get the condition for this channel or barcode from the Conf TOML</p>
<p>The barcoder should return the barcode name e.g. <code class="docutils literal notranslate"><span class="pre">barcode01</span></code> or
<code class="docutils literal notranslate"><span class="pre">unclassified</span></code> if a barcode could not be assigned. If barcoding
is not being done then the barcode should be <code class="docutils literal notranslate"><span class="pre">None</span></code> and channel
will be used instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Channel number for this result</p></li>
<li><p><strong>barcode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> | </em><em>None</em>) – Barcode classification from basecalling</p></li>
</ul>
</dd>
<dt class="field-even">Returns control<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether this channel/barcode combination is a <code class="docutils literal notranslate"><span class="pre">control</span></code> condition</p>
</dd>
<dt class="field-odd">Returns condition<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <a class="reference internal" href="#readfish._config.Barcode" title="readfish._config.Barcode"><code class="xref py py-class docutils literal notranslate"><span class="pre">Barcode</span></code></a> or <a class="reference internal" href="#readfish._config.Region" title="readfish._config.Region"><code class="xref py py-class docutils literal notranslate"><span class="pre">Region</span></code></a> that this channel/barcode belongs to</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – In the event that the channel/barcode combination does not find a <a class="reference internal" href="#readfish._config.Region" title="readfish._config.Region"><code class="xref py py-class docutils literal notranslate"><span class="pre">Region</span></code></a> or a <a class="reference internal" href="#readfish._config.Barcode" title="readfish._config.Barcode"><code class="xref py py-class docutils literal notranslate"><span class="pre">Barcode</span></code></a></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><em>Tuple</em></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a>, <a class="reference internal" href="#readfish._config.Barcode" title="readfish._config.Barcode"><em>Barcode</em></a> | <a class="reference internal" href="#readfish._config.Region" title="readfish._config.Region"><em>Region</em></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config.Conf.get_region">
<span class="sig-name descname"><span class="pre">get_region</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Conf.get_region"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Conf.get_region" title="Link to this definition">¶</a></dt>
<dd><p>Get the region for a given channel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The channel number</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns a region, if there is one, otherwise None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#readfish._config.Region" title="readfish._config.Region"><em>Region</em></a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config.Conf.get_targets">
<span class="sig-name descname"><span class="pre">get_targets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barcode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Conf.get_targets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Conf.get_targets" title="Link to this definition">¶</a></dt>
<dd><p>Get the targets for a given channel or barcode, via its condition</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The channel number</p></li>
<li><p><strong>barcode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> | </em><em>None</em>) – The barcode name, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The targets list for a given channel</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Targets" title="readfish.plugins.utils.Targets"><em>Targets</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config.Conf.to_file">
<span class="sig-name descname"><span class="pre">to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Conf.to_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Conf.to_file" title="Link to this definition">¶</a></dt>
<dd><p>Write a conf to a TOML file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><em>Path</em></a>) – File path to create the TOML file for</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config.Conf.write_channels_toml">
<span class="sig-name descname"><span class="pre">write_channels_toml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Conf.write_channels_toml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Conf.write_channels_toml" title="Link to this definition">¶</a></dt>
<dd><p>Write out a channels toml file to the given directory.
This file is a map of each channel number to the corresponding region name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>out_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><em>Path</em></a>) – Read Until client we are connected to.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="readfish._config._Condition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._config.</span></span><span class="sig-name descname"><span class="pre">_Condition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_on</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_off</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_on</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_off</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_seq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">control</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_chunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_chunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">below_min_chunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Action.proceed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">above_max_chunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Action.unblock</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#_Condition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config._Condition" title="Link to this definition">¶</a></dt>
<dd><p>Representation of an experimental condition.
This can either be a <a class="reference internal" href="#readfish._config.Barcode" title="readfish._config.Barcode"><code class="xref py py-class docutils literal notranslate"><span class="pre">Barcode</span></code></a> or an experimental <a class="reference internal" href="#readfish._config.Region" title="readfish._config.Region"><code class="xref py py-class docutils literal notranslate"><span class="pre">Region</span></code></a> of the flow cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The name of the condition.</p></li>
<li><p><strong>single_on</strong> (<a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Action" title="readfish.plugins.utils.Action"><em>Action</em></a>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code> to perform when a read has a single, on-target, alignment</p></li>
<li><p><strong>single_off</strong> (<a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Action" title="readfish.plugins.utils.Action"><em>Action</em></a>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code> to perform when a read has a single, off-target, alignment</p></li>
<li><p><strong>multi_on</strong> (<a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Action" title="readfish.plugins.utils.Action"><em>Action</em></a>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code> to perform when a read has multiple alignments, with at least one on-target</p></li>
<li><p><strong>multi_off</strong> (<a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Action" title="readfish.plugins.utils.Action"><em>Action</em></a>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code> to perform when a read has multiple aligments, with all off-target</p></li>
<li><p><strong>no_map</strong> (<a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Action" title="readfish.plugins.utils.Action"><em>Action</em></a>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code> to perform when a read has no aligments</p></li>
<li><p><strong>no_seq</strong> (<a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Action" title="readfish.plugins.utils.Action"><em>Action</em></a>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code> to perform when a read did not basecall</p></li>
<li><p><strong>control</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – Whether the region should be treated as a control. Defaults to False</p></li>
<li><p><strong>targets</strong> (<a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Targets" title="readfish.plugins.utils.Targets"><em>Targets</em></a>) – The target sequences for the condition. See <code class="xref py py-class docutils literal notranslate"><span class="pre">Targets</span></code> for details</p></li>
<li><p><strong>min_chunks</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The minimum number of chunks required before a decision will be made. Defaults to 1</p></li>
<li><p><strong>max_chunks</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The maximum number of chunks that readfish will assess for any single read. Defaults to 2</p></li>
<li><p><strong>below_min_chunks</strong> (<a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Action" title="readfish.plugins.utils.Action"><em>Action</em></a>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code> to take when we haven’t evaluated at least <code class="docutils literal notranslate"><span class="pre">min_chunks</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">Action.proceed</span></code></p></li>
<li><p><strong>above_max_chunks</strong> (<a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Action" title="readfish.plugins.utils.Action"><em>Action</em></a>) – The <code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code> to take when we have exceeded <code class="docutils literal notranslate"><span class="pre">max_chunks</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">Action.unblock</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="readfish._config._Condition.get_action">
<span class="sig-name descname"><span class="pre">get_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decision</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#_Condition.get_action"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config._Condition.get_action" title="Link to this definition">¶</a></dt>
<dd><p>Get the <code class="xref py py-class docutils literal notranslate"><span class="pre">Action</span></code> that corresponds to <code class="docutils literal notranslate"><span class="pre">decision</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>decision</strong> (<a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Decision" title="readfish.plugins.utils.Decision"><em>Decision</em></a>) – <code class="xref py py-class docutils literal notranslate"><span class="pre">Decision</span></code> for a read</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config._Condition.pretty_print">
<span class="sig-name descname"><span class="pre">pretty_print</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#_Condition.pretty_print"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config._Condition.pretty_print" title="Link to this definition">¶</a></dt>
<dd><p>Pretty print how the conditions match up to the resulting Actions. Used in the describe function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pretty format string containing all the variables</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="readfish._config.Barcode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._config.</span></span><span class="sig-name descname"><span class="pre">Barcode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Barcode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Barcode" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#readfish._config._Condition" title="readfish._config._Condition"><code class="xref py py-class docutils literal notranslate"><span class="pre">_Condition</span></code></a> for details</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="readfish._config.Region">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._config.</span></span><span class="sig-name descname"><span class="pre">Region</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#Region"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.Region" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#readfish._config._Condition" title="readfish._config._Condition"><code class="xref py py-class docutils literal notranslate"><span class="pre">_Condition</span></code></a> for details</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="readfish._config._PluginModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._config.</span></span><span class="sig-name descname"><span class="pre">_PluginModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#_PluginModule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config._PluginModule" title="Link to this definition">¶</a></dt>
<dd><p>A plugin module</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The name of the plugin module.</p></li>
<li><p><strong>parameters</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – A dictionary of parameters to be passed to the plugin module.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="readfish._config._PluginModule.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#_PluginModule.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config._PluginModule.from_dict" title="Link to this definition">¶</a></dt>
<dd><p>Creates an instance of the _PluginModule class from a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><em>Dict</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><em>Dict</em></a><em>]</em>) – A dictionary containing a single key-value pair, where the key is
the name of the plugin module and the value is a dictionary of
parameters to be passed to the plugin module.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – If more than one key value pair is provided in the <code class="docutils literal notranslate"><span class="pre">params</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An instance of the <code class="docutils literal notranslate"><span class="pre">_PluginModule</span></code> class with the specified name and parameters.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#readfish._config._PluginModule" title="readfish._config._PluginModule"><em>_PluginModule</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config._PluginModule.load_module">
<span class="sig-name descname"><span class="pre">load_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#_PluginModule.load_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config._PluginModule.load_module" title="Link to this definition">¶</a></dt>
<dd><p>Load a plugin module with the given name.</p>
<p>If the module is a built-in plugin (as specified in the builtins dictionary), it is loaded from the readfish.plugins package.
Otherwise, it is loaded using the importlib library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>override</strong> – If True, the built-in module names are ignored. Default is False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The loaded module.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ModuleNotFoundError" title="(in Python v3.12)"><strong>ModuleNotFoundError</strong></a> – If the plugin module cannot be found or loaded.</p>
</dd>
</dl>
<p>Note that this method is intended to be used as part of a plugin system, where
plugin modules are loaded dynamically at runtime. The builtins dictionary maps
the names of built-in plugins to the actual module names, and is used to avoid
having to specify the full module name when loading a built-in plugin. If
override=True, the builtin module names are ignored.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._config._PluginModule.load_object">
<span class="sig-name descname"><span class="pre">load_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#_PluginModule.load_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config._PluginModule.load_object" title="Link to this definition">¶</a></dt>
<dd><p>Load a specified object from a plugin module.</p>
<p>First <a class="reference internal" href="#readfish._config._PluginModule.load_module" title="readfish._config._PluginModule.load_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_module</span></code></a> is called to load the plugin module, then the
specified object is retreived from the module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The name of the object to load from the plugin module.</p></li>
<li><p><strong>init</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – If True, the returned object is initialized with the parameters provided to the constructor of the parent class, as well as any additional keyword arguments passed in via the <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> parameter.</p></li>
<li><p><strong>override</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – If True, ignore builtin readfish plugins.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments to pass to the constructor of the loaded object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The specified object from the plugin module. If init=True, the object is initialized with the provided parameters and returned.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ModuleNotFoundError" title="(in Python v3.12)"><strong>ModuleNotFoundError</strong></a> – If the plugin module cannot be found or loaded.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AttributeError" title="(in Python v3.12)"><strong>AttributeError</strong></a> – If the specified object cannot be found in the plugin module.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If the runtime <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> conflict with the module parameters from the TOML file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="readfish._config.CallerSettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._config.</span></span><span class="sig-name descname"><span class="pre">CallerSettings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#CallerSettings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.CallerSettings" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#readfish._config._PluginModule" title="readfish._config._PluginModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">_PluginModule</span></code></a> for details</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="readfish._config.MapperSettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._config.</span></span><span class="sig-name descname"><span class="pre">MapperSettings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">...</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_config.html#MapperSettings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._config.MapperSettings" title="Link to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#readfish._config._PluginModule" title="readfish._config._PluginModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">_PluginModule</span></code></a> for details</p>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-readfish._loggers">
<span id="readfish-loggers-module"></span><h2><code class="docutils literal notranslate"><span class="pre">readfish._loggers</span></code> module<a class="headerlink" href="#module-readfish._loggers" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="readfish._loggers.setup_logger">
<span class="sig-prename descclassname"><span class="pre">readfish._loggers.</span></span><span class="sig-name descname"><span class="pre">setup_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%(message)s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_console</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'a'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propagate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">queue_bound</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_loggers.html#setup_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._loggers.setup_logger" title="Link to this definition">¶</a></dt>
<dd><p>Configures and returns a <cite>logging.Logger</cite> object with handlers specified by the values
set in <code class="docutils literal notranslate"><span class="pre">log_file</span></code> and <code class="docutils literal notranslate"><span class="pre">log_format</span></code>, specified format, and level.</p>
<p>A custom header can be included if logging to a file.
Log messages will be formatted using the provided format string.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Name to assign to the logger.</p></li>
<li><p><strong>header</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> | </em><em>None</em>) – Optional header to write at the top of the log file.</p></li>
<li><p><strong>log_format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Format string for log messages using % formatting, default is “%(message)s”.</p></li>
<li><p><strong>log_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> | </em><em>None</em>) – Path to the file where logs should be written.</p></li>
<li><p><strong>log_console</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – Whether to log to console. If True, a console StreamHandler is added.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Mode to use when opening the log file, default is ‘a’ (append).</p></li>
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Logging level, where logging.LEVEL is one of (DEBUG, INFO, WARNING, ERROR, CRITICAL). Default is logging.DEBUG.</p></li>
<li><p><strong>propagate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – Whether the logger should propagate messages to higher-level loggers, default is False.</p></li>
<li><p><strong>queue_bound</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Maximum number of log messages to store in the queue, default is 100_000. If full, adding to queue will block until space is available.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Configured <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Logger</span></code></a> instance.</p>
</dd>
<dt class="field-odd">Example<span class="colon">:</span></dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span> <span class="o">=</span> <span class="n">setup_logger</span><span class="p">(</span><span class="s1">&#39;my_logger&#39;</span><span class="p">,</span> <span class="n">log_console</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;This is an info message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w+&#39;</span><span class="p">,</span> <span class="n">delete</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">tmpfile</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">logger</span> <span class="o">=</span> <span class="n">setup_logger</span><span class="p">(</span><span class="s1">&#39;my_logger&#39;</span><span class="p">,</span> <span class="n">log_file</span><span class="o">=</span><span class="n">tmpfile</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="s1">&#39;Time  Message&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an I/O error occurs while opening or writing to the file.</p>
</dd>
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><dl class="simple">
<dt>If <cite>log_file</cite> is specified, a QueueHandler and QueueListener will be used to send logs to the specified file.</dt><dd><p>The Queue will be bounded, with a default size of 100_000. Putting to queue will block if full.</p>
</dd>
</dl>
</li>
<li><p>If <cite>log_file</cite> is specified and <cite>log_console</cite> is False, logs will only be recorded to the specified file.</p></li>
<li><p>If <cite>log_console</cite> is True, logs will be sent to console irrespective of whether <cite>log_file</cite> is specified.</p></li>
<li><p>If <cite>log_file</cite> is None and <cite>log_console</cite> is False, logs will be sent to a <cite>logging.NullHandler</cite> instance.</p></li>
<li><dl class="simple">
<dt>If <cite>header</cite> is provided and the file specified by <cite>filename</cite> already exists,</dt><dd><p>the header will not be written to the file.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.12)"><em>Logger</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._loggers.print_args">
<span class="sig-prename descclassname"><span class="pre">readfish._loggers.</span></span><span class="sig-name descname"><span class="pre">print_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">printer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_loggers.html#print_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._loggers.print_args" title="Link to this definition">¶</a></dt>
<dd><p>Prints and formats all arguments from the command line. Takes all entirely lowercase
attributes of <code class="docutils literal notranslate"><span class="pre">args</span></code> and prints them using the provided printer function (expected to be <a class="reference external" href="https://docs.python.org/3/library/functions.html#print" title="(in Python v3.12)"><code class="xref py py-func docutils literal notranslate"><span class="pre">print</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger.info" title="(in Python v3.12)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">logging.Logger.info</span></code></a>). The exclude
parameter can be used to exclude certain attributes from being printed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/argparse.html#argparse.Namespace" title="(in Python v3.12)"><em>Namespace</em></a>) – The command line arguments object to print.</p></li>
<li><p><strong>printer</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.12)"><em>Callable</em></a>) – A function to print the arguments. This function should take a single string argument.</p></li>
<li><p><strong>exclude</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em> | </em><em>None</em>) – A list of attribute names to exclude from the output.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-readfish._utils">
<span id="readfish-utils-module"></span><h2><code class="docutils literal notranslate"><span class="pre">readfish._utils</span></code> module<a class="headerlink" href="#module-readfish._utils" title="Link to this heading">¶</a></h2>
<p>utils.py
functions and utilities used internally.</p>
<dl class="py class">
<dt class="sig sig-object py" id="readfish._utils.ChunkTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">ChunkTracker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#ChunkTracker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.ChunkTracker" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="readfish._utils.ChunkTracker.seen">
<span class="sig-name descname"><span class="pre">seen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_number</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#ChunkTracker.seen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.ChunkTracker.seen" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="readfish._utils.Severity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">Severity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#Severity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.Severity" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.IntEnum" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntEnum</span></code></a></p>
<p>Severity states for messaging to MinKNOW</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>INFO</strong> – Info level</p></li>
<li><p><strong>WARN</strong> – Warn level</p></li>
<li><p><strong>ERROR</strong> – Error level</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._utils.Severity.ERROR">
<span class="sig-name descname"><span class="pre">ERROR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#readfish._utils.Severity.ERROR" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._utils.Severity.INFO">
<span class="sig-name descname"><span class="pre">INFO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#readfish._utils.Severity.INFO" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._utils.Severity.WARN">
<span class="sig-name descname"><span class="pre">WARN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#readfish._utils.Severity.WARN" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.compress_and_encode_string">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">compress_and_encode_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#compress_and_encode_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.compress_and_encode_string" title="Link to this definition">¶</a></dt>
<dd><p>Compresses a string, encodes it in base-64, and returns an ASCII string representation of the compressed blob.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>original_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The string to be compressed and encoded.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An ASCII string representation of the compressed and base-64 encoded blob.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.decode_and_decompress_string">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">decode_and_decompress_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoded_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#decode_and_decompress_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.decode_and_decompress_string" title="Link to this definition">¶</a></dt>
<dd><p>Decodes an ASCII string representation of a compressed blob, decompresses it, and returns the original string.
This is the reverse of <cite>compress_and_encode_string</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>encoded_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – An ASCII string representation of the compressed and base-64 encoded blob.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The original string that was compressed and encoded.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.draw_flowcell_split">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">draw_flowcell_split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flowcell_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#draw_flowcell_split"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.draw_flowcell_split" title="Link to this definition">¶</a></dt>
<dd><p>Draw unicode representation of the flowcell. If the flowcell is split more than once, and index is passed, the region of the
flowcell represented by the index is highlighted solid, whilst the rest is filled with Xs</p>
<p>Rather than representing all the possible channels, we draw a 32 column wide flowcell for gridion and 120 for promethion and divide
accordingly</p>
<p>Example</p>
<p>draw_flowcell_split(512)</p>
<p>XXXX
XXXX</p>
<p>draw_flowcell_split(512, split = 2)
XX00
XX00</p>
<p>draw_flowcell_split(512, split = 2, index = 1)
00XX
00XX</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flowcell_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Number of channels on the flow cell</p></li>
<li><p><strong>split</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The number of regions to split into, defaults to 1</p></li>
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The index of the region to highlight, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String representation of the flowcell in ASCII art</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.escape_message_to_minknow">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">escape_message_to_minknow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chars</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#escape_message_to_minknow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.escape_message_to_minknow" title="Link to this definition">¶</a></dt>
<dd><p>Escape characters in the chars list if they are in message</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">escape_message_to_minknow</span><span class="p">(</span><span class="s2">&quot;20%&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;%&quot;</span><span class="p">])</span>
<span class="go">&#39;20\\%&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">escape_message_to_minknow</span><span class="p">(</span><span class="s2">&quot;20</span><span class="se">\\</span><span class="s2">%&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;%&quot;</span><span class="p">])</span>
<span class="go">&#39;20\\%&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">escape_message_to_minknow</span><span class="p">(</span><span class="s2">&quot;20&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;%&quot;</span><span class="p">])</span>
<span class="go">&#39;20&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The message that is being sent</p></li>
<li><p><strong>chars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>] </em><em>| </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The characters to escape</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>message that has been escaped</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.format_bases">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">format_bases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'B'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#format_bases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.format_bases" title="Link to this definition">¶</a></dt>
<dd><p>Return a human readable string of a large number using SI unit prefixes</p>
<dl class="field-list simple">
<dt class="field-odd">Pararm num<span class="colon">:</span></dt>
<dd class="field-odd"><p>A number to convert to decimal form</p>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The SI factor, use 1000 for SI units and 1024 for binary multiples</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The suffix to place after the SI prefix, for example use B for SI units and iB for binary multiples</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The input number formatted to two decimal places with the SI unit and suffix</p>
</dd>
<dt class="field-even">Example<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_bases</span><span class="p">(</span><span class="mi">1_000</span><span class="p">)</span>
<span class="go">&#39;1.00 kB&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_bases</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">)</span>
<span class="go">&#39;1.00 MB&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_bases</span><span class="p">(</span><span class="mi">1_630_000</span><span class="p">)</span>
<span class="go">&#39;1.63 MB&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_bases</span><span class="p">(</span><span class="mi">1_000_000_000</span><span class="p">)</span>
<span class="go">&#39;1.00 GB&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.generate_flowcell">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">generate_flowcell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flowcell_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">odd_even</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#generate_flowcell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.generate_flowcell" title="Link to this definition">¶</a></dt>
<dd><p>Return an list of lists with channels to use in conditions</p>
<p>Representations generated by this method are evenly split based on the physical layout of the flowcell.
Each sub-list is the same size. Axis determines whether the flowcell divisions will go left-right (0) or top-bottom (1).
As flongle has a shape of (10, 13) the top-bottom axis cannot be split evenly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flowcell_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The total number of channels on the flowcell; 126 for Flongle, 512 for MinION, and 3000 for PromethION</p></li>
<li><p><strong>split</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The number of sections to split the flowcell into, must be a positive factor of the flowcell dimension, defaults to 1</p></li>
<li><p><strong>axis</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The axis along which to split, see: <a class="reference external" href="https://docs.scipy.org/doc/numpy/glossary.html?highlight=axis">https://docs.scipy.org/doc/numpy/glossary.html?highlight=axis</a>, defaults to 1</p></li>
<li><p><strong>odd_even</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – Return a list of two lists split into odd-even channels, ignores <cite>split</cite> and <cite>axis</cite>, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – Raised when split is not a positive integer</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – Raised when the value for split is not a factor on the axis provided</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of lists with channels divided equally</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a>]]</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">generate_flowcell</span><span class="p">(</span><span class="mi">512</span><span class="p">))</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">generate_flowcell</span><span class="p">(</span><span class="mi">512</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">512</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">generate_flowcell</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">generate_flowcell</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">128</span>
<span class="go">128</span>
<span class="go">128</span>
<span class="go">128</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generate_flowcell</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ValueError</span>: <span class="n">The flowcell cannot be split evenly</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.get_coords">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">get_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flowcell_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#get_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.get_coords" title="Link to this definition">¶</a></dt>
<dd><p>Return a channel’s coordinates given a flowcell size</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The channel to retrieve the coordinates for</p></li>
<li><p><strong>flowcell_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The flowcell size, this is used to determine the flowcell layout</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The column and row of a channel number in the flowcell</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – channel cannot be below 0 or above flowcell_size</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – Raised if flowcell_size not one of [128, 512, 3000]</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.get_device">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">get_device</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'127.0.0.1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#get_device"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.get_device" title="Link to this definition">¶</a></dt>
<dd><p>Get a position for a specific device over the minknow API</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>device</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The device name - example X1 or MS00000</p></li>
<li><p><strong>host</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The host the RPC is listening on, defaults to “127.0.0.1”</p></li>
<li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The port the RPC is listening on, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – If their is no match on any of the positions for the given device name</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The position representation from the MinkKNOW API</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>FlowCellPosition</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.get_flowcell_array">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">get_flowcell_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flowcell_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#get_flowcell_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.get_flowcell_array" title="Link to this definition">¶</a></dt>
<dd><p>Return a numpy.ndarray in the shape of a flowcell</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>flowcell_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The total number of channels on the flowcell; 126 for Flongle, 512 for MinION, and 3000 for PromethION</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An N-dimensional array representation of the flowcell</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>_SupportsArray</em>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.26)"><em>dtype</em></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><em>Any</em></a>]] | <em>_NestedSequence</em>[<em>_SupportsArray</em>[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.26)"><em>dtype</em></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><em>Any</em></a>]]] | <a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)">float</a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)">complex</a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.12)">bytes</a> | <em>_NestedSequence</em>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)">float</a> | <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.12)">complex</a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a> | <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.12)">bytes</a>]</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_flowcell_array</span><span class="p">(</span><span class="mi">126</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(10, 13)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_flowcell_array</span><span class="p">(</span><span class="mi">512</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(16, 32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_flowcell_array</span><span class="p">(</span><span class="mi">3000</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(25, 120)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_flowcell_array</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ValueError</span>: <span class="n">flowcell_size is not recognised</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_flowcell_array</span><span class="p">(</span><span class="mi">126</span><span class="p">)[</span><span class="mi">9</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_flowcell_array</span><span class="p">(</span><span class="mi">512</span><span class="p">)[</span><span class="mi">15</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.iter_exception_group">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">iter_exception_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#iter_exception_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.iter_exception_group" title="Link to this definition">¶</a></dt>
<dd><p>Traverses an exception tree, yielding formatted strings for each exception encountered</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exc</strong> (<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#BaseExceptionGroup" title="(in Python v3.12)"><em>BaseExceptionGroup</em></a>) – The exception group to traverse</p></li>
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The current indentation level, defaults to 0, defaults to 0</p></li>
</ul>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>Formatted (and indented) string representation of each exception encountered in the tree.</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exc</span> <span class="o">=</span> <span class="n">BaseExceptionGroup</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;level 1.0&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="n">BaseExceptionGroup</span><span class="p">(</span>
<span class="gp">... </span>            <span class="s2">&quot;level 2.0&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="p">[</span>
<span class="gp">... </span>                <span class="n">BaseExceptionGroup</span><span class="p">(</span>
<span class="gp">... </span>                    <span class="s2">&quot;level 3.0&quot;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="p">[</span>
<span class="gp">... </span>                        <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">),</span>
<span class="gp">... </span>                        <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;99&quot;</span><span class="p">),</span>
<span class="gp">... </span>                        <span class="n">BaseExceptionGroup</span><span class="p">(</span><span class="s2">&quot;level 4.0&quot;</span><span class="p">,</span> <span class="p">[</span><span class="ne">TabError</span><span class="p">(</span><span class="s2">&quot;nu uh&quot;</span><span class="p">)]),</span>
<span class="gp">... </span>                    <span class="p">],</span>
<span class="gp">... </span>                <span class="p">)</span>
<span class="gp">... </span>            <span class="p">],</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>        <span class="n">BaseExceptionGroup</span><span class="p">(</span><span class="s2">&quot;level 2.1&quot;</span><span class="p">,</span> <span class="p">[</span><span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;345&quot;</span><span class="p">)]),</span>
<span class="gp">... </span>    <span class="p">],</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">iter_exception_group</span><span class="p">(</span><span class="n">exc</span><span class="p">)))</span>
<span class="go">level 1.0 (2 sub-exceptions):</span>
<span class="go"> level 2.0 (1 sub-exception):</span>
<span class="go">  level 3.0 (3 sub-exceptions):</span>
<span class="go">   - ValueError(&#39;abc&#39;)</span>
<span class="go">   - KeyError(&#39;99&#39;)</span>
<span class="go">   level 4.0 (1 sub-exception):</span>
<span class="go">    - TabError(&#39;nu uh&#39;)</span>
<span class="go"> level 2.1 (1 sub-exception):</span>
<span class="go">  - ValueError(&#39;345&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.nested_get">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">nested_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#nested_get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.nested_get" title="Link to this definition">¶</a></dt>
<dd><p>Get a value from a nested structure</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;C(x=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">!r}</span><span class="s2">)&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">:</span> <span class="n">C</span><span class="p">(</span><span class="mi">999</span><span class="p">)}}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">cls</span> <span class="o">=</span> <span class="n">C</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested_get</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;a.b.c&quot;</span><span class="p">)</span>
<span class="go">&#39;d&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested_get</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;a.b.c&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;d&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested_get</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;a.b.c.d.e&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested_get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;x.x&quot;</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: {&#39;b&#39;: {&#39;c&#39;: &#39;d&#39;, &#39;e&#39;: C(x=999)}}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested_get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;x.x.a.b.e.x&quot;</span><span class="p">)</span>
<span class="go">999</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nested_get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;missing&quot;</span><span class="p">,</span> <span class="s2">&quot;MISSING&quot;</span><span class="p">)</span>
<span class="go">&#39;MISSING&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.12)"><em>Mapping</em></a>) – Any with a __get_item__ method</p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><em>Any</em></a>) – The key to get from the Mapping</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><em>Any</em></a>) – The default value to return if the key is not present, defaults to None</p></li>
<li><p><strong>delim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Split a string by given the delimiter, to access the Mapping using each key in turn, defaults to “.”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.nice_join">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">nice_join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">',</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conjunction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'or'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#nice_join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.nice_join" title="Link to this definition">¶</a></dt>
<dd><p>Join lists nicely</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seq</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Sequence" title="(in Python v3.12)"><em>Sequence</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><em>Any</em></a><em>]</em>) – A sequence of objects that have a __str__ method.</p></li>
<li><p><strong>sep</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The separator for the join, defaults to “, “</p></li>
<li><p><strong>conjunction</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – A conjunction between the joined list and the last element, defaults to “or”</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The nicely joined string</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.send_message">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rpc_connection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">severity</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#send_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.send_message" title="Link to this definition">¶</a></dt>
<dd><p>Send a message to MinKNOW</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rpc_connection</strong> (<em>Connection</em>) – An instance of the rpc.Connection</p></li>
<li><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The message to send</p></li>
<li><p><strong>severity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The severity to use for the message: 1=info, 2=warning, 3=error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="readfish._utils.stringify_grid">
<span class="sig-prename descclassname"><span class="pre">readfish._utils.</span></span><span class="sig-name descname"><span class="pre">stringify_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_utils.html#stringify_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._utils.stringify_grid" title="Link to this definition">¶</a></dt>
<dd><p>Convert a nested list of characters into a 2d grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>grid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>]</em><em>]</em>) – The grid to convert. Represents the flowcell array.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String representation of the flowcell in ASCII art</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-readfish._cli_args">
<span id="readfish-cli-args-module"></span><h2><code class="docutils literal notranslate"><span class="pre">readfish._cli_args</span></code> module<a class="headerlink" href="#module-readfish._cli_args" title="Link to this heading">¶</a></h2>
<p>Store for command line arguments and defaults, these are used by readfish entry points.</p>
<p>These are held here in an agnostic format and the actual CLI is generated by <code class="docutils literal notranslate"><span class="pre">readfish._cli_base</span></code>.
The two primary items that are exported are <code class="docutils literal notranslate"><span class="pre">BASE_ARGS</span></code> and <code class="docutils literal notranslate"><span class="pre">DEVICE_BASE_ARGS</span></code> which define different sets of command line arguments for different purposes.
<code class="docutils literal notranslate"><span class="pre">BASE_ARGS</span></code> are the minimal required arguments for _all_ entry points as they used for initialising loggers.
<code class="docutils literal notranslate"><span class="pre">DEVICE_BASE_ARGS</span></code> are the set of arguments that are used for connecting to a sequencer (device) and some other related settings for selective sequencing scripts.</p>
<dl class="py class">
<dt class="sig sig-object py" id="readfish._cli_args.Chemistry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._cli_args.</span></span><span class="sig-name descname"><span class="pre">Chemistry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_cli_args.html#Chemistry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._cli_args.Chemistry" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._cli_args.Chemistry.DUPLEX">
<span class="sig-name descname"><span class="pre">DUPLEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'duplex'</span></em><a class="headerlink" href="#readfish._cli_args.Chemistry.DUPLEX" title="Link to this definition">¶</a></dt>
<dd><p>For the “smarter” version of duplex - does this read map to the previous reads opposite strand on the same contig. Won’t work for no map based decisions</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._cli_args.Chemistry.DUPLEX_SIMPLE">
<span class="sig-name descname"><span class="pre">DUPLEX_SIMPLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'duplex_simple'</span></em><a class="headerlink" href="#readfish._cli_args.Chemistry.DUPLEX_SIMPLE" title="Link to this definition">¶</a></dt>
<dd><p>Simple duplex - if we are going to unblock a read given the previous read on the same channel was stop receiving, sequence the current read instead.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._cli_args.Chemistry.SIMPLEX">
<span class="sig-name descname"><span class="pre">SIMPLEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'simplex'</span></em><a class="headerlink" href="#readfish._cli_args.Chemistry.SIMPLEX" title="Link to this definition">¶</a></dt>
<dd><p>Normal simplex chemistry - no duplex override shenanigans</p>
</dd></dl>

</dd></dl>

</section>
<hr class="docutils" />
<section id="module-readfish._statistics">
<span id="readfish-statistics-module"></span><h2><code class="docutils literal notranslate"><span class="pre">readfish._statistics</span></code> module<a class="headerlink" href="#module-readfish._statistics" title="Link to this heading">¶</a></h2>
<p>This module contains the ReadfishStatistics class, which is designed to
track and manage statistics pertaining to a single Readfish run. The ReadfishStatistics
class is able to update and query various statistics and counters regarding the
performance, decisions, actions, and conditions of Readfish runs.</p>
<p>The ReadfishStatistics class has the ability to compute and return averages
related to chunks per second, batch time, and batch size, and it maintains
various counters to keep track of the number of chunks processed, actions taken,
decisions made, and conditions met. The class also facilitates the addition of
new performance and read records to the existing statistics.</p>
<dl class="field-list">
<dt class="field-odd">Example<span class="colon">:</span></dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">readfish._statistics</span> <span class="kn">import</span> <span class="n">ReadfishStatistics</span><span class="p">,</span> <span class="n">DEBUG_STATS_LOG_FIELDS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">add_batch_performance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">log_read</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">DEBUG_STATS_LOG_FIELDS</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;test_read_id&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;single_on&quot;</span><span class="p">,</span> <span class="s2">&quot;stop_receiving&quot;</span><span class="p">,</span> <span class="s2">&quot;exp_region&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))),</span> <span class="n">region_name</span><span class="o">=</span><span class="s2">&quot;naff&quot;</span><span class="p">,</span> <span class="n">overridden_action_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">get_batch_performance</span><span class="p">())</span>
<span class="go">0001R/1.0000s; Avg: 0001R/1.0000s; Seq:1; Unb:0; Pro:0; Slow batches (&gt;1.00s): 0/1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">decisions</span><span class="p">)</span>
<span class="go">Counter({&#39;single_on&#39;: 1})</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">readfish._statistics.</span></span><span class="sig-name descname"><span class="pre">ReadfishStatistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">break_reads_seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_chunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actions_conditions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decisions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_read_overrides</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_statistics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NOTHING</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">NOTHING</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_statistics.html#ReadfishStatistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._statistics.ReadfishStatistics" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class for tracking and managing statistics for individual Readfish runs.</p>
<p>The ReadfishStatistics class is designed to manage and present
statistics from individual Readfish runs, providing insights into performance,
decisions, actions, and conditions encountered during the runs.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>break_reads_seconds</strong> – The number of seconds between each collection of chunk signal. Default 1.0.</p></li>
<li><p><strong>log_file</strong> – The name of the log file to write to. If None, no file is output.</p></li>
<li><p><strong>total_chunks</strong> – The total number of chunks processed.</p></li>
<li><p><strong>actions</strong> – A counter tracking the number of <a class="reference internal" href="readfish.plugins.html#readfish.plugins.utils.Action" title="readfish.plugins.utils.Action"><code class="xref py py-class docutils literal notranslate"><span class="pre">Actions</span></code></a> sent.</p></li>
<li><p><strong>conditions</strong> – A counter tracking the number of reads seen for each <code class="xref py py-class docutils literal notranslate"><span class="pre">Condition</span></code>.</p></li>
<li><p><strong>actions_conditions</strong> – A counter tracking number of condition/action/decision combinations.</p></li>
<li><p><strong>decisions</strong> – A counter tracking the number of decisions made, globally.</p></li>
<li><p><strong>first_read_overrides</strong> – A counter tracking whether the first read was sequences readfish was started during sequencing or unblocked if it was not.</p></li>
<li><p><strong>batch_statistics</strong> – A counter tracking performance metrics such as summed batch times, total chunks in batches, and number of batches seen.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">add_batch_performance</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">log_read</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">DEBUG_STATS_LOG_FIELDS</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;test_read_id&quot;</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;single_on&quot;</span><span class="p">,</span> <span class="s2">&quot;stop_receiving&quot;</span><span class="p">,</span> <span class="s2">&quot;exp_region&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))),</span> <span class="n">region_name</span><span class="o">=</span><span class="s2">&quot;naff&quot;</span><span class="p">,</span> <span class="n">overridden_action_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">get_batch_performance</span><span class="p">())</span>
<span class="go">0001R/1.0000s; Avg: 0001R/1.0000s; Seq:1; Unb:0; Pro:0; Slow batches (&gt;1.00s): 0/1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">decisions</span><span class="p">)</span>
<span class="go">Counter({&#39;single_on&#39;: 1})</span>
</pre></div>
</div>
<p>Example with log file</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pformat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">readfish._statistics</span> <span class="kn">import</span> <span class="n">ReadfishStatistics</span><span class="p">,</span> <span class="n">DEBUG_STATS_LOG_FIELDS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmpdir</span><span class="p">:</span>
<span class="gp">... </span>    <span class="c1"># Change the current working directory to the temporary directory</span>
<span class="gp">... </span>    <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">)</span>
<span class="gp">... </span>    <span class="c1"># Use the current directory for the log file</span>
<span class="gp">... </span>    <span class="n">log_file_name</span> <span class="o">=</span> <span class="s2">&quot;readfish.log&quot;</span>
<span class="gp">... </span>    <span class="c1"># Create an instance of ReadfishStatistics with the log file in the temporary directory</span>
<span class="gp">... </span>    <span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="n">log_file</span><span class="o">=</span><span class="n">log_file_name</span><span class="p">)</span>
<span class="gp">... </span>    <span class="c1"># Use the log_read method to log a sample read</span>
<span class="gp">... </span>    <span class="n">stats</span><span class="o">.</span><span class="n">log_read</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">DEBUG_STATS_LOG_FIELDS</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;test_read_id&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;single_on&quot;</span><span class="p">,</span> <span class="s2">&quot;stop_receiving&quot;</span><span class="p">,</span> <span class="s2">&quot;exp_region&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))),</span> <span class="n">region_name</span><span class="o">=</span><span class="s2">&quot;naff&quot;</span><span class="p">,</span> <span class="n">overridden_action_name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">... </span>    <span class="c1"># in this test, we need a small amount of time to allow the logger to write the file</span>
<span class="gp">... </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="c1"># Read the content of the file</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">log_file_name</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">log_file</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">content</span> <span class="o">=</span> <span class="n">log_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">... </span>    <span class="c1"># Prepare the expected content</span>
<span class="gp">... </span>    <span class="n">header</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DEBUG_STATS_LOG_FIELDS</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">expected_line</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;test_read_id&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;single_on&quot;</span><span class="p">,</span><span class="s2">&quot;stop_receiving&quot;</span><span class="p">,</span> <span class="s2">&quot;exp_region&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)))</span>
<span class="gp">... </span>    <span class="n">expected</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">header</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">expected_line</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="gp">... </span>    <span class="c1"># Check that the content matches, don&#39;t ask about the replaces, it was the only way</span>
<span class="gp">... </span>    <span class="n">expected</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.log_file">
<span class="sig-name descname"><span class="pre">log_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.log_file" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.break_reads_seconds">
<span class="sig-name descname"><span class="pre">break_reads_seconds</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.break_reads_seconds" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.total_chunks">
<span class="sig-name descname"><span class="pre">total_chunks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.total_chunks" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.actions">
<span class="sig-name descname"><span class="pre">actions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.Counter" title="(in Python v3.12)"><span class="pre">Counter</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.actions" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.conditions">
<span class="sig-name descname"><span class="pre">conditions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.Counter" title="(in Python v3.12)"><span class="pre">Counter</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.conditions" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.actions_conditions">
<span class="sig-name descname"><span class="pre">actions_conditions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.Counter" title="(in Python v3.12)"><span class="pre">Counter</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.actions_conditions" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.decisions">
<span class="sig-name descname"><span class="pre">decisions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.Counter" title="(in Python v3.12)"><span class="pre">Counter</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.decisions" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.first_read_overrides">
<span class="sig-name descname"><span class="pre">first_read_overrides</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.Counter" title="(in Python v3.12)"><span class="pre">Counter</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.first_read_overrides" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.batch_statistics">
<span class="sig-name descname"><span class="pre">batch_statistics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.Counter" title="(in Python v3.12)"><span class="pre">Counter</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.batch_statistics" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.debug_logger">
<span class="sig-name descname"><span class="pre">debug_logger</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.12)"><span class="pre">Logger</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.debug_logger" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.average_chunks_per_second">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">average_chunks_per_second</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.average_chunks_per_second" title="Link to this definition">¶</a></dt>
<dd><p>Calculate and return the average number of chunks processed per second.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Average number of chunks processed per second.</p>
</dd>
</dl>
<p>Given:
batch_statistics = {“batch_count”: 2, “batch_size”: 100, “batch_time”: 50}</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">add_batch_performance</span><span class="p">(</span><span class="n">number_of_reads</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">batch_time</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">average_chunks_per_second</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>More complex example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">add_batch_performance</span><span class="p">(</span><span class="n">number_of_reads</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">batch_time</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">add_batch_performance</span><span class="p">(</span><span class="n">number_of_reads</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">batch_time</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">add_batch_performance</span><span class="p">(</span><span class="n">number_of_reads</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">batch_time</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">average_chunks_per_second</span>
<span class="go">4.0</span>
</pre></div>
</div>
<p>When batch_count is 0, the result will be 0.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">batch_statistics</span><span class="p">[</span><span class="s2">&quot;batch_count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">average_chunks_per_second</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.average_batch_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">average_batch_time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.average_batch_time" title="Link to this definition">¶</a></dt>
<dd><p>Calculate and return the average time taken per batch.</p>
<p>Examples:</p>
<p>Given:
batch_statistics = {“batch_count”: 3, “cumulative_batch_size”: 150, “cumulative_batch_time”: 60}</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">batch_statistics</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;batch_count&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;cumulative_batch_size&quot;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span> <span class="s2">&quot;cumulative_batch_time&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">average_batch_time</span>
<span class="go">20.0</span>
</pre></div>
</div>
<p>When batch_count is 0, the result should be 0.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">batch_statistics</span><span class="p">[</span><span class="s2">&quot;batch_count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">average_batch_time</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.average_batch_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">average_batch_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></em><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.average_batch_size" title="Link to this definition">¶</a></dt>
<dd><p>Calculate and return the average size of processed batches.</p>
<p>The method computes the average batch size by dividing the total number
of chunks processed by the number of batches seen. If no batches have been
processed, the method returns 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Average number of reads processed per batch.</p>
</dd>
</dl>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">average_batch_size</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">add_batch_performance</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">add_batch_performance</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">average_batch_size</span>
<span class="go">75.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.get_batch_performance">
<span class="sig-name descname"><span class="pre">get_batch_performance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_statistics.html#ReadfishStatistics.get_batch_performance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.get_batch_performance" title="Link to this definition">¶</a></dt>
<dd><p>Generate and return a formatted string representing batch performance.</p>
<p>If no batches have been processed, a placeholder message is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>String summary of the current performance metrics.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
<p>Examples:</p>
<p>When no batches have been processed:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">batch_statistics</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;batch_count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;cumulative_batch_size&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>             <span class="s2">&quot;cumulative_batch_time&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;batch_time&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">get_batch_performance</span><span class="p">()</span>
<span class="go">&#39;No performance data yet&#39;</span>
</pre></div>
</div>
<p>When 100 chunks is processed in 10 seconds and it has been lagging for 6 consecutive batches:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">batch_statistics</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;batch_count&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;cumulative_batch_size&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>             <span class="s2">&quot;cumulative_batch_time&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;batch_time&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>            <span class="s2">&quot;cumulative_lagging_batches&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;consecutive_lagging_batches&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">get_batch_performance</span><span class="p">()</span>
<span class="go">&#39;0010R/10.0000s; Avg: 0016R/1.6667s; Seq:0; Unb:0; Pro:0; Slow batches (&gt;1.00s): 6/6&#39;</span>
</pre></div>
</div>
<p>When three batches of total 300 chunks are processed in a total of 45 seconds:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">batch_statistics</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;batch_count&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;cumulative_batch_size&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>             <span class="s2">&quot;cumulative_batch_time&quot;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span> <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="s2">&quot;batch_time&quot;</span><span class="p">:</span> <span class="mi">45</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">get_batch_performance</span><span class="p">()</span>
<span class="go">&#39;0300R/45.0000s; Avg: 0100R/15.0000s; Seq:0; Unb:0; Pro:0; Slow batches (&gt;1.00s): 0/3&#39;</span>
</pre></div>
</div>
<p>When five batches of total 500 chunks are processed in a total of 120 seconds:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">batch_statistics</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;batch_count&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;cumulative_batch_size&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>             <span class="s2">&quot;cumulative_batch_time&quot;</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span>  <span class="s2">&quot;batch_size&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="s2">&quot;batch_time&quot;</span><span class="p">:</span> <span class="mi">120</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">get_batch_performance</span><span class="p">()</span>
<span class="go">&#39;0500R/120.0000s; Avg: 0100R/24.0000s; Seq:0; Unb:0; Pro:0; Slow batches (&gt;1.00s): 0/5&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.add_batch_performance">
<span class="sig-name descname"><span class="pre">add_batch_performance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_of_reads</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_statistics.html#ReadfishStatistics.add_batch_performance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.add_batch_performance" title="Link to this definition">¶</a></dt>
<dd><p>Update the collected statistics with new batch performance data.</p>
<p>This method integrates a new set of chunk batch performance metrics into
the class’s statistics, specifically updating the batch size, batch time,
and batch count based on the provided number of reads and the time taken.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number_of_reads</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The number of reads processed in the current batch.</p></li>
<li><p><strong>batch_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – The time taken to process the current batch in seconds.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ReadfishStatistics</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">add_batch_performance</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">batch_statistics</span>
<span class="go">Counter({&#39;cumulative_batch_size&#39;: 100, &#39;batch_size&#39;: 100, &#39;cumulative_batch_time&#39;: 10.5, &#39;batch_time&#39;: 10.5, &#39;batch_count&#39;: 1, &#39;cumulative_lagging_batches&#39;: 1, &#39;consecutive_lagging_batches&#39;: 1})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">add_batch_performance</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mf">10.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span><span class="o">.</span><span class="n">batch_statistics</span>
<span class="go">Counter({&#39;cumulative_batch_size&#39;: 200, &#39;batch_size&#39;: 100, &#39;cumulative_batch_time&#39;: 21.0, &#39;batch_time&#39;: 10.5, &#39;batch_count&#39;: 2, &#39;cumulative_lagging_batches&#39;: 2, &#39;consecutive_lagging_batches&#39;: 2})</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="readfish._statistics.ReadfishStatistics.log_read">
<span class="sig-name descname"><span class="pre">log_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overridden_action_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_statistics.html#ReadfishStatistics.log_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._statistics.ReadfishStatistics.log_read" title="Link to this definition">¶</a></dt>
<dd><p>Add a new read chunk record into the collected statistics,
and log it to the debug logger.</p>
<p>The following terms are used in this function:
decision is expected to be one of Unblock, stop_receiving etc.
mode is expected to be one of single_on, single_off, multi_on etc.</p>
<p>The term “action” is used to describe what the sequencer actually did.
#ToDo: see and address issue #298
:param region_name: The name of the region on the flow cell.
:param overridden_action_name: Optional, if the originally determined action
was overridden, the name of the NEW action.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

</dd></dl>

</section>
<hr class="docutils" />
<section id="module-readfish._cli_base">
<span id="readfish-cli-base-module"></span><h2><code class="docutils literal notranslate"><span class="pre">readfish._cli_base</span></code> module<a class="headerlink" href="#module-readfish._cli_base" title="Link to this heading">¶</a></h2>
<p>Main entry point for command line read until scripts.</p>
<p>Set as entrypoint in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></p>
<dl class="py function">
<dt class="sig sig-object py" id="readfish._cli_base.main">
<span class="sig-prename descclassname"><span class="pre">readfish._cli_base.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/readfish/_cli_base.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#readfish._cli_base.main" title="Link to this definition">¶</a></dt>
<dd><p>Main function for entry point of the read until scripts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>argv</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>] </em><em>| </em><em>None</em>) – used in tests default None</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#SystemExit" title="(in Python v3.12)"><strong>SystemExit</strong></a> – Raises a system exit when the command function exits.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="readfish.plugins.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">readfish plugins API</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="developers-guide.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Developer’s guide</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Loose Lab
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">API Reference</a><ul>
<li><a class="reference internal" href="#module-readfish._config"><code class="docutils literal notranslate"><span class="pre">readfish._config</span></code> module</a><ul>
<li><a class="reference internal" href="#readfish._config.Conf"><code class="docutils literal notranslate"><span class="pre">Conf</span></code></a><ul>
<li><a class="reference internal" href="#readfish._config.Conf.describe_experiment"><code class="docutils literal notranslate"><span class="pre">Conf.describe_experiment</span></code></a></li>
<li><a class="reference internal" href="#readfish._config.Conf.from_dict"><code class="docutils literal notranslate"><span class="pre">Conf.from_dict</span></code></a></li>
<li><a class="reference internal" href="#readfish._config.Conf.from_file"><code class="docutils literal notranslate"><span class="pre">Conf.from_file</span></code></a></li>
<li><a class="reference internal" href="#readfish._config.Conf.get_barcode"><code class="docutils literal notranslate"><span class="pre">Conf.get_barcode</span></code></a></li>
<li><a class="reference internal" href="#readfish._config.Conf.get_conditions"><code class="docutils literal notranslate"><span class="pre">Conf.get_conditions</span></code></a></li>
<li><a class="reference internal" href="#readfish._config.Conf.get_region"><code class="docutils literal notranslate"><span class="pre">Conf.get_region</span></code></a></li>
<li><a class="reference internal" href="#readfish._config.Conf.get_targets"><code class="docutils literal notranslate"><span class="pre">Conf.get_targets</span></code></a></li>
<li><a class="reference internal" href="#readfish._config.Conf.to_file"><code class="docutils literal notranslate"><span class="pre">Conf.to_file</span></code></a></li>
<li><a class="reference internal" href="#readfish._config.Conf.write_channels_toml"><code class="docutils literal notranslate"><span class="pre">Conf.write_channels_toml</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#readfish._config._Condition"><code class="docutils literal notranslate"><span class="pre">_Condition</span></code></a><ul>
<li><a class="reference internal" href="#readfish._config._Condition.get_action"><code class="docutils literal notranslate"><span class="pre">_Condition.get_action</span></code></a></li>
<li><a class="reference internal" href="#readfish._config._Condition.pretty_print"><code class="docutils literal notranslate"><span class="pre">_Condition.pretty_print</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#readfish._config.Barcode"><code class="docutils literal notranslate"><span class="pre">Barcode</span></code></a></li>
<li><a class="reference internal" href="#readfish._config.Region"><code class="docutils literal notranslate"><span class="pre">Region</span></code></a></li>
<li><a class="reference internal" href="#readfish._config._PluginModule"><code class="docutils literal notranslate"><span class="pre">_PluginModule</span></code></a><ul>
<li><a class="reference internal" href="#readfish._config._PluginModule.from_dict"><code class="docutils literal notranslate"><span class="pre">_PluginModule.from_dict</span></code></a></li>
<li><a class="reference internal" href="#readfish._config._PluginModule.load_module"><code class="docutils literal notranslate"><span class="pre">_PluginModule.load_module</span></code></a></li>
<li><a class="reference internal" href="#readfish._config._PluginModule.load_object"><code class="docutils literal notranslate"><span class="pre">_PluginModule.load_object</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#readfish._config.CallerSettings"><code class="docutils literal notranslate"><span class="pre">CallerSettings</span></code></a></li>
<li><a class="reference internal" href="#readfish._config.MapperSettings"><code class="docutils literal notranslate"><span class="pre">MapperSettings</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-readfish._loggers"><code class="docutils literal notranslate"><span class="pre">readfish._loggers</span></code> module</a><ul>
<li><a class="reference internal" href="#readfish._loggers.setup_logger"><code class="docutils literal notranslate"><span class="pre">setup_logger</span></code></a></li>
<li><a class="reference internal" href="#readfish._loggers.print_args"><code class="docutils literal notranslate"><span class="pre">print_args</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-readfish._utils"><code class="docutils literal notranslate"><span class="pre">readfish._utils</span></code> module</a><ul>
<li><a class="reference internal" href="#readfish._utils.ChunkTracker"><code class="docutils literal notranslate"><span class="pre">ChunkTracker</span></code></a><ul>
<li><a class="reference internal" href="#readfish._utils.ChunkTracker.seen"><code class="docutils literal notranslate"><span class="pre">ChunkTracker.seen</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#readfish._utils.Severity"><code class="docutils literal notranslate"><span class="pre">Severity</span></code></a><ul>
<li><a class="reference internal" href="#readfish._utils.Severity.ERROR"><code class="docutils literal notranslate"><span class="pre">Severity.ERROR</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.Severity.INFO"><code class="docutils literal notranslate"><span class="pre">Severity.INFO</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.Severity.WARN"><code class="docutils literal notranslate"><span class="pre">Severity.WARN</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#readfish._utils.compress_and_encode_string"><code class="docutils literal notranslate"><span class="pre">compress_and_encode_string</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.decode_and_decompress_string"><code class="docutils literal notranslate"><span class="pre">decode_and_decompress_string</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.draw_flowcell_split"><code class="docutils literal notranslate"><span class="pre">draw_flowcell_split</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.escape_message_to_minknow"><code class="docutils literal notranslate"><span class="pre">escape_message_to_minknow</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.format_bases"><code class="docutils literal notranslate"><span class="pre">format_bases</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.generate_flowcell"><code class="docutils literal notranslate"><span class="pre">generate_flowcell</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.get_coords"><code class="docutils literal notranslate"><span class="pre">get_coords</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.get_device"><code class="docutils literal notranslate"><span class="pre">get_device</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.get_flowcell_array"><code class="docutils literal notranslate"><span class="pre">get_flowcell_array</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.iter_exception_group"><code class="docutils literal notranslate"><span class="pre">iter_exception_group</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.nested_get"><code class="docutils literal notranslate"><span class="pre">nested_get</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.nice_join"><code class="docutils literal notranslate"><span class="pre">nice_join</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.send_message"><code class="docutils literal notranslate"><span class="pre">send_message</span></code></a></li>
<li><a class="reference internal" href="#readfish._utils.stringify_grid"><code class="docutils literal notranslate"><span class="pre">stringify_grid</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-readfish._cli_args"><code class="docutils literal notranslate"><span class="pre">readfish._cli_args</span></code> module</a><ul>
<li><a class="reference internal" href="#readfish._cli_args.Chemistry"><code class="docutils literal notranslate"><span class="pre">Chemistry</span></code></a><ul>
<li><a class="reference internal" href="#readfish._cli_args.Chemistry.DUPLEX"><code class="docutils literal notranslate"><span class="pre">Chemistry.DUPLEX</span></code></a></li>
<li><a class="reference internal" href="#readfish._cli_args.Chemistry.DUPLEX_SIMPLE"><code class="docutils literal notranslate"><span class="pre">Chemistry.DUPLEX_SIMPLE</span></code></a></li>
<li><a class="reference internal" href="#readfish._cli_args.Chemistry.SIMPLEX"><code class="docutils literal notranslate"><span class="pre">Chemistry.SIMPLEX</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-readfish._statistics"><code class="docutils literal notranslate"><span class="pre">readfish._statistics</span></code> module</a><ul>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics</span></code></a><ul>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.log_file"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.log_file</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.break_reads_seconds"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.break_reads_seconds</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.total_chunks"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.total_chunks</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.actions"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.actions</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.conditions"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.conditions</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.actions_conditions"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.actions_conditions</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.decisions"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.decisions</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.first_read_overrides"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.first_read_overrides</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.batch_statistics"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.batch_statistics</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.debug_logger"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.debug_logger</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.average_chunks_per_second"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.average_chunks_per_second</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.average_batch_time"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.average_batch_time</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.average_batch_size"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.average_batch_size</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.get_batch_performance"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.get_batch_performance</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.add_batch_performance"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.add_batch_performance</span></code></a></li>
<li><a class="reference internal" href="#readfish._statistics.ReadfishStatistics.log_read"><code class="docutils literal notranslate"><span class="pre">ReadfishStatistics.log_read</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-readfish._cli_base"><code class="docutils literal notranslate"><span class="pre">readfish._cli_base</span></code> module</a><ul>
<li><a class="reference internal" href="#readfish._cli_base.main"><code class="docutils literal notranslate"><span class="pre">main</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=9887e882"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    </body>
</html>